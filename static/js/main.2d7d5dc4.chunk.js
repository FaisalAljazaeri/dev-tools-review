(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a(72)},41:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),o=a(16),i=a.n(o),c=(a(39),a(40),a(41),a(18)),r=a(20),s=a(8),d=a(9),m=a(11),u=a(10),g=a(12),v=a(14),h=a.n(v),p=(a(59),a(60),a(61),a(77)),w=a(81),f=a(78),R=a(79),E=a(80),b=a(15),y=a(73),N=a(74),O=a(75),C=a(76),S=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).changehandler=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault(),a.props.editReview(Object(c.a)({},a.state,{_id:a.props.review._id}))};var n=a.props.review,l=n.itemName,o=n.content,i=n.itemImgSrc;return a.state={itemName:l,content:o,itemImgSrc:i},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{onSubmit:this.submitHandler},l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Item Name"),l.a.createElement(C.a,{type:"text",name:"itemName",placeholder:"item name",onChange:this.changehandler,value:this.state.itemName})),l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Review Content"),l.a.createElement(C.a,{type:"textarea",name:"content",placeholder:"Review Content",onChange:this.changehandler,value:this.state.content})),l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Image Src"),l.a.createElement(C.a,{type:"text",name:"itemImgSrc",placeholder:"Image Src",onChange:this.changehandler,value:this.state.itemImgSrc})),l.a.createElement(p.a,{type:"submit",color:"primary"},"Submit"))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.toggleDelete=function(){a.setState({modalType:"delete"}),a.toggle()},a.toggleEdit=function(){a.setState({modalType:"edit"}),a.toggle()},a.toggleGithub=function(){a.setState({modalType:"github"}),a.toggle()},a.deleteReview=function(e){a.props.deleteReview(a.props.review._id),a.toggle()},a.editReview=function(e){a.props.editReview(e),a.toggle()},a.getModalHeader=function(e){return"delete"===e?"Deleting Selected Item":"edit"===e?"Editing Selected Review":"github"===e?"Github Stats":""},a.getModalBody=function(e){return"delete"===e?"Are you sure you want to delete?":"edit"===e?l.a.createElement(S,{review:a.props.review,editReview:a.editReview}):"github"===e?"Total Repositories on Github for ".concat(a.props.review.itemName," is ").concat(a.state.githubReposCount):""},a.getModalFooter=function(e){return"delete"===e?l.a.createElement(p.a,{color:"danger",onClick:a.deleteReview},"Delete"):""},a.state={isOpen:!1,modalType:"",githubReposCount:0},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.getModalBody(this.state.modalType),t=this.getModalFooter(this.state.modalType),a=this.getModalHeader(this.state.modalType);return l.a.createElement("div",null,l.a.createElement("i",{className:"fa fa-github fa-lg",onClick:this.toggleGithub}),l.a.createElement("i",{className:"fa fa-trash fa-lg red",onClick:this.toggleDelete}),l.a.createElement("i",{className:"fa fa-edit fa-lg blue",id:"edit-icon",onClick:this.toggleEdit}),l.a.createElement(w.a,{isOpen:this.state.isOpen,toggle:this.toggle},l.a.createElement(f.a,{toggle:this.toggle},a),l.a.createElement(R.a,null,e),l.a.createElement(E.a,null,t," ",l.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}},{key:"componentDidMount",value:function(){var e=this;h.a.get("https://api.github.com/search/repositories?q=".concat(this.props.review.itemName)).then((function(t){return e.setState({githubReposCount:t.data.total_count})})).catch((function(e){return console.log(e)}))}}]),t}(n.Component);var A=function(e){var t=e.review,a=t.itemName,n=t.content,o=t.itemImgSrc,i=t.isRecommended?"fa fa-thumbs-up fa-lg like":"fa fa-thumbs-down fa-lg dislike";return l.a.createElement("div",{className:"review-card"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:o,alt:a})),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"review-content"},l.a.createElement("h3",null,a),l.a.createElement("p",null,n)),l.a.createElement("div",{className:"review-controls"},l.a.createElement(j,{editReview:function(t){e.editReview(t)},deleteReview:function(t){e.deleteReview(t)},review:e.review}),l.a.createElement("i",{className:i,onClick:function(t){e.toggleRecommended(e.review)}}))))},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).deleteReview=function(e){a.props.deleteReview(e)},a.toggleRecommended=function(e){a.props.toggleRecommended(e)},a.editReview=function(e){a.props.editReview(e)},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.reviews.map((function(t,a){return l.a.createElement(A,{key:a,review:t,deleteReview:e.props.deleteReview,toggleRecommended:e.toggleRecommended,editReview:e.editReview})}));return l.a.createElement("div",{className:"reviews-container"},t)}}]),t}(n.Component),M=(a(71),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).changehandler=function(e){a.setState(Object(b.a)({},e.target.name,e.target.value))},a.submitHandler=function(e){e.preventDefault(),a.props.createReview(a.state),a.props.toggleAll()},a.state={itemName:"",content:"",itemImgSrc:"",isRecommended:!1},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement(y.a,{onSubmit:this.submitHandler},l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Item Name"),l.a.createElement(C.a,{type:"text",name:"itemName",placeholder:"item name",onChange:this.changehandler,value:this.state.itemName})),l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Review Content"),l.a.createElement(C.a,{type:"textarea",name:"content",placeholder:"Review Content",onChange:this.changehandler,value:this.state.content})),l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Image Src"),l.a.createElement(C.a,{type:"text",name:"itemImgSrc",placeholder:"Image Src",onChange:this.changehandler,value:this.state.itemImgSrc})),l.a.createElement(N.a,null,l.a.createElement(O.a,null,"Do You Recommend It?"),l.a.createElement(C.a,{type:"select",name:"isRecommended",onChange:this.changehandler,value:this.state.isRecommended},l.a.createElement("option",{value:!1},"No"),l.a.createElement("option",{value:!0},"Yes"))),l.a.createElement(p.a,{type:"submit",color:"primary"},"Submit"))}}]),t}(n.Component));var I=function(e){var t,a=function(t){e.addReview(t)},n=function(){e.deleteAllReviews(),e.toggleAll()},o=function(){e.deleteNotRecommendedReviews(),e.toggleAll()},i="add"===(t=e.modalType)?l.a.createElement(M,{createReview:a,toggleAll:e.toggleAll}):"deleteAll"===t?l.a.createElement("div",null,"are you sure you want to delete all items?"):l.a.createElement("div",null,"are you sure you want to delete not recommended items?"),c=function(e){return"deleteNotRecommended"===e?l.a.createElement(p.a,{color:"danger",onClick:o},"Confirm"):"deleteAll"===e?l.a.createElement(p.a,{color:"danger",onClick:n},"Confirm"):""}(e.modalType);return l.a.createElement(w.a,{isOpen:e.nestedModal,toggle:e.toggleNested,onClosed:e.closeAll?e.toggle:void 0},l.a.createElement(f.a,null,"Nested Modal title"),l.a.createElement(R.a,null,i),l.a.createElement(E.a,null,c," ",l.a.createElement(p.a,{color:"secondary",onClick:e.toggleNested},"Cancel")))},T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggle=function(){a.setState({isOpen:!a.state.isOpen})},a.toggleNested=function(){a.setState({nestedModal:!a.state.nestedModal,closeAll:!1})},a.toggleAll=function(){a.setState({nestedModal:!a.state.nestedModal,closeAll:!0})},a.toggleAddReview=function(){a.toggleNested(),a.setState({nestedModalType:"add"})},a.addReview=function(e){a.props.addReview(e)},a.toggleDeleteAllReviews=function(){a.toggleNested(),a.setState({nestedModalType:"deleteAll"})},a.deleteAllReviews=function(){a.props.deleteAllReviews()},a.toggleDeleteNotRecommendedReviews=function(){a.toggleNested(),a.setState({nestedModalType:"deleteNotRecommended"})},a.deleteNotRecommendedReviews=function(){a.props.deleteNotRecommendedReviews()},a.state={isOpen:!1,nestedModal:!1,closeAll:!1,nestedModalType:""},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("i",{id:"action-btn",className:"fa fa-cog fa-2x",onClick:this.toggle}),l.a.createElement(w.a,{isOpen:this.state.isOpen,toggle:this.toggle},l.a.createElement(f.a,{toggle:this.toggle},"Select an Action to Perform"),l.a.createElement(R.a,null,l.a.createElement("div",{className:"modal-buttons"},l.a.createElement(p.a,{color:"success",onClick:this.toggleAddReview},"Add Review"),l.a.createElement(p.a,{color:"secondary",onClick:this.toggleDeleteNotRecommendedReviews},"Delete All Not Recommended Reviews"),l.a.createElement(p.a,{color:"danger",onClick:this.toggleDeleteAllReviews},"Delete All Reviews")),l.a.createElement(I,{addReview:this.addReview,deleteAllReviews:this.deleteAllReviews,deleteNotRecommendedReviews:this.deleteNotRecommendedReviews,modalType:this.state.nestedModalType,nestedModal:this.state.nestedModal,toggle:this.toggle,toggleNested:this.toggleNested,toggleAll:this.toggleAll,closeAll:this.state.closeAll})),l.a.createElement(E.a,null,l.a.createElement(p.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).addReview=function(e){h.a.post("http://localhost:5000/api/reviews",e).then((function(e){a.setState({reviews:[].concat(Object(r.a)(a.state.reviews),[e.data.review])})})).catch((function(e){return console.log(e)}))},a.toggleRecommended=function(e){var t=Object(c.a)({},e,{isRecommended:!e.isRecommended});a.updateReview(t)},a.editReview=function(e){a.updateReview(e)},a.updateReview=function(e){h.a.patch("http://localhost:5000/api/reviews/".concat(e._id),{review:e}).then((function(t){var n=Object(r.a)(a.state.reviews),l=n.findIndex((function(t){return e._id===t._id}));n.splice(l,1,t.data),a.setState({reviews:n})})).catch((function(e){return console.log(e)}))},a.deleteAllReviews=function(){h.a.delete("http://localhost:5000/api/reviews").then((function(e){a.setState({reviews:e.data})})).catch((function(e){return console.log(e)}))},a.deleteNotRecommendedReviews=function(){h.a.delete("http://localhost:5000/api/reviews/notrecommended").then((function(e){a.setState({reviews:e.data})})).catch((function(e){return console.log(e)}))},a.deleteReview=function(e){h.a.delete("http://localhost:5000/api/reviews/".concat(e)).then((function(t){var n=Object(r.a)(a.state.reviews).filter((function(t){return e!==t._id}));a.setState({reviews:n})}))},a.state={reviews:[]},a}return Object(g.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"main-container"},l.a.createElement(T,{addReview:this.addReview,deleteAllReviews:this.deleteAllReviews,deleteNotRecommendedReviews:this.deleteNotRecommendedReviews}),l.a.createElement(k,{reviews:this.state.reviews,deleteReview:this.deleteReview,toggleRecommended:this.toggleRecommended,editReview:this.editReview}))}},{key:"componentDidMount",value:function(){var e=this;h.a.get("http://localhost:5000/api/reviews").then((function(t){e.setState({reviews:t.data})})).catch((function(e){return console.log(e)}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.2d7d5dc4.chunk.js.map